{"version":3,"sources":["mock-data.js","api.js","Alert.js","Event.js","EventList.js","CitySearch.js","NumberOfEvents.js","App.js","serviceWorker.js","index.js"],"names":["mockData","extractLocations","events","map","event","location","Set","checkToken","accessToken","a","fetch","then","res","json","catch","error","result","getEvents","NProgress","start","window","href","startsWith","done","navigator","onLine","localStorage","getItem","JSON","parse","locations","getAccessToken","token","removeQuery","url","axios","get","data","setItem","stringify","history","pushState","pathname","newurl","protocol","host","tokenCheck","removeItem","searchParams","URLSearchParams","search","code","results","authUrl","getToken","encodeCode","encodeURIComponent","access_token","Alert","props","getStyle","color","className","style","this","text","Component","InfoAlert","ErrorAlert","WarningAlert","Event","state","showDetails","handleShowDetails","setState","infoText","summary","dateTime","timeZone","onClick","htmlLink","description","organizer","email","EventList","id","CitySearch","query","suggestions","showSuggestions","undefined","handleInputChanged","value","target","filter","toUpperCase","indexOf","length","handleItemClicked","suggestion","updateEvents","type","onChange","onFocus","display","NumberOfEvents","numOfEvents","inputHandler","App","currentLocation","eventCount","filteredEvents","slice","mounted","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker","atatus","install"],"mappings":"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","file":"static/js/main.3d4d316c.chunk.js","sourcesContent":["const mockData = [\n    {\n   \"kind\": \"calendar#event\",\n   \"etag\": \"\\\"3181161784712000\\\"\",\n   \"id\": \"4eahs9ghkhrvkld72hogu9ph3e_20200519T140000Z\",\n   \"status\": \"confirmed\",\n   \"htmlLink\": \"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n   \"created\": \"2020-05-19T19:17:46.000Z\",\n   \"updated\": \"2020-05-27T12:01:32.356Z\",\n   \"summary\": \"Learn JavaScript\",\n   \"description\": \"Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) \\n\\nJavascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.\",\n   \"location\": \"London, UK\",\n   \"creator\": {\n    \"email\": \"fullstackwebdev@careerfoundry.com\",\n    \"self\": true\n   },\n   \"organizer\": {\n    \"email\": \"fullstackwebdev@careerfoundry.com\",\n    \"self\": true\n   },\n   \"start\": {\n    \"dateTime\": \"2020-05-19T16:00:00+02:00\",\n    \"timeZone\": \"Europe/Berlin\"\n   },\n   \"end\": {\n    \"dateTime\": \"2020-05-19T17:00:00+02:00\",\n    \"timeZone\": \"Europe/Berlin\"\n   },\n   \"recurringEventId\": \"4eahs9ghkhrvkld72hogu9ph3e\",\n   \"originalStartTime\": {\n    \"dateTime\": \"2020-05-19T16:00:00+02:00\",\n    \"timeZone\": \"Europe/Berlin\"\n   },\n   \"iCalUID\": \"4eahs9ghkhrvkld72hogu9ph3e@google.com\",\n   \"sequence\": 0,\n   \"reminders\": {\n    \"useDefault\": true\n   }\n  },\n  {\n   \"kind\": \"calendar#event\",\n   \"etag\": \"\\\"3181159875584000\\\"\",\n   \"id\": \"3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z\",\n   \"status\": \"confirmed\",\n   \"htmlLink\": \"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n   \"created\": \"2020-05-19T19:14:30.000Z\",\n   \"updated\": \"2020-05-27T11:45:37.792Z\",\n   \"summary\": \"React is Fun\",\n   \"description\": \"Love HTML, CSS, and JS? Want to become a cool front-end developer? \\n\\nReact is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. \\n\\nJoin us in our free React training sessions and give your career a new direction. \",\n   \"location\": \"Berlin, Germany\",\n   \"creator\": {\n    \"email\": \"fullstackwebdev@careerfoundry.com\",\n    \"self\": true\n   },\n   \"organizer\": {\n    \"email\": \"fullstackwebdev@careerfoundry.com\",\n    \"self\": true\n   },\n   \"start\": {\n    \"dateTime\": \"2020-05-20T14:00:00+02:00\",\n    \"timeZone\": \"Europe/Berlin\"\n   },\n   \"end\": {\n    \"dateTime\": \"2020-05-20T15:00:00+02:00\",\n    \"timeZone\": \"Europe/Berlin\"\n   },\n   \"recurringEventId\": \"3qtd6uscq4tsi6gc7nmmtpqlct\",\n   \"originalStartTime\": {\n    \"dateTime\": \"2020-05-20T14:00:00+02:00\",\n    \"timeZone\": \"Europe/Berlin\"\n   },\n   \"iCalUID\": \"3qtd6uscq4tsi6gc7nmmtpqlct@google.com\",\n   \"sequence\": 0,\n   \"reminders\": {\n    \"useDefault\": true\n   }\n  }\n];\n\nexport { mockData };","import { mockData } from './mock-data';\nimport axios from 'axios';\nimport NProgress from 'nprogress';\n\nexport const extractLocations = (events) => {\n  var extractLocations = events.map((event) => event.location);\n  var locations = [...new Set(extractLocations)];\n  return locations;\n};\n\nconst checkToken = async (accessToken) => {\n  const result = await fetch(\n    `https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${accessToken}`\n  )\n    .then((res) => res.json())\n    .catch((error) => error.json());\n\n  return result;\n};\n\nexport const getEvents = async () => {\n    NProgress.start();\n\n    if (window.location.href.startsWith(\"http://localhost\")) {\n        NProgress.done();\n        return mockData;\n    }\n\n     if (!navigator.onLine) {\n        const events = localStorage.getItem(\"lastEvents\");\n        NProgress.done();\n        return { events: JSON.parse(events).events, locations:   extractLocations(JSON.parse(events).events) };\n    }\n\n\n    const token = await getAccessToken();\n\n    if (token) {\n        removeQuery();\n        const url = 'https://vc8iyps9fd.execute-api.us-west-1.amazonaws.com/dev/api/get-events' + '/' + token;\n        const result = await axios.get(url);\n        if (result.data) {\n        var locations = extractLocations(result.data.events);\n        localStorage.setItem(\"lastEvents\", JSON.stringify(result.data));\n        localStorage.setItem(\"locations\", JSON.stringify(locations));\n        }\n        NProgress.done();\n        return result.data.events;\n    }\n};\n\nconst removeQuery = () => {\n  if (window.history.pushState && window.location.pathname) {\n    var newurl =\n      window.location.protocol +\n      \"//\" +\n      window.location.host +\n      window.location.pathname;\n    window.history.pushState(\"\", \"\", newurl);\n  } else {\n    newurl = window.location.protocol + \"//\" + window.location.host;\n    window.history.pushState(\"\", \"\", newurl);\n  }\n};\n\nexport const getAccessToken = async () => {\n    const accessToken = localStorage.getItem('access_token');\n\n    const tokenCheck = accessToken && (await checkToken(accessToken));\n\n    if (!accessToken || tokenCheck.error) {\n        await localStorage.removeItem(\"access_token\");\n        const searchParams = new URLSearchParams(window.location.search);\n        const code = await searchParams.get(\"code\");\n        if (!code) {\n            const results = await axios.get(\n                \"https://vc8iyps9fd.execute-api.us-west-1.amazonaws.com/dev/api/get-auth-url\"\n            );\n            const { authUrl } = results.data;\n            return (window.location.href = authUrl);\n        }\n        return code && getToken(code);\n    }\n    return accessToken;\n};\n\nconst getToken = async (code) => {\n  const encodeCode = encodeURIComponent(code);\n  const { access_token } = await fetch(\n    'https://vc8iyps9fd.execute-api.us-west-1.amazonaws.com/dev/api/token' + '/' + encodeCode\n  )\n    .then((res) => {\n      return res.json();\n    })\n    .catch((error) => error);\n\n  access_token && localStorage.setItem(\"access_token\", access_token);\n\n  return access_token;\n};","import React, { Component } from 'react';\n\nclass Alert extends Component {\n    constructor(props) {\n        super(props);\n        this.color = null;\n    }\n\n    getStyle = () => {\n        return {\n            color: this.color\n        };\n    }\n\n    render() {\n        return (\n            <div className=\"Alert\">\n                <p style={this.getStyle()}>{this.props.text}</p>\n            </div>\n        )\n    }\n}\n\nclass InfoAlert extends Alert {\n    constructor(props) {\n        super(props);\n        this.color = '#125E8A'\n    };\n}\n\n\nclass ErrorAlert extends Alert {\n    constructor(props) {\n        super(props);\n        this.color = '#B80003'\n    };\n}\n\nclass WarningAlert extends Alert {\n    constructor(props) {\n        super(props);\n        this.color = '#ED7D3A'\n    };\n}\n\nexport { InfoAlert, ErrorAlert, WarningAlert };","import React, { Component } from 'react';\nimport { WarningAlert } from './Alert';\n\nclass Event extends Component {\n    state = {\n        showDetails: false\n    }\n\n    handleShowDetails = () => {\n        if (this.state.showDetails === false) {\n            this.setState({\n                showDetails: true,\n                infoText: 'Please make sure to check the timezone to participate in the event at the proper time. Thank you!'\n            });\n\n        }\n        else {\n            this.setState({\n                showDetails: false,\n\n            })\n        }\n    };\n\n    render() {\n        const { event } = this.props;\n\n        return (\n            <div className=\"event\">\n                <div className=\"eventCard\">\n                    <h1 className=\"eventCard--name\">{event.summary}</h1>\n                    <p className=\"eventCard--date\">Starts at: {event.start.dateTime}</p>\n                    <p className=\"eventCard--date\">Timezone: {event.start.timeZone}</p>\n                    <p className=\"eventCard--location\">Location: {event.location}</p>\n\n                    {!this.state.showDetails &&\n                        <button className=\"details-btn\" onClick={() => this.handleShowDetails()}>Show Details</button>\n                    }\n\n                    {this.state.showDetails &&\n                        (<div className=\"eventExpanded\">\n                            <WarningAlert text={this.state.infoText} />\n                            <p className=\"eventCard--link\"><a href={event.htmlLink}>Link to Calendar Invite</a></p>\n                            <p className=\"eventCard--description\">Description: {event.description}</p>\n                            <p className=\"eventCard--organizer\">Organizer: {event.organizer.email}</p>\n                            <button className=\"details-btn\" onClick={() => this.handleShowDetails()}>Hide Details</button>\n\n                        </div>)\n\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Event;","import React, { Component } from 'react';\nimport Event from './Event';\n\nclass EventList extends Component {\n    render() {\n        const { events } = this.props;\n        return (\n            <ul className=\"EventList\">\n                {events.map(event =>\n                    <li key={event.id}>\n                        <Event event={event} />\n                    </li>\n                )}\n            </ul>\n        );\n    }\n}\n\nexport default EventList;","import React, { Component } from 'react';\nimport { InfoAlert } from './Alert';\n\nclass CitySearch extends Component {\n    state = {\n        query: '',\n        suggestions: [],\n        showSuggestions: undefined\n    }\n\n    handleInputChanged = (event) => {\n        const value = event.target.value;\n        const suggestions = this.props.locations.filter((location) => {\n            return location.toUpperCase().indexOf(value.toUpperCase()) > -1\n        });\n        if (suggestions.length === 0) {\n            this.setState({\n                query: value,\n                infoText: \"City unavailable. Please type another city.\",\n                showSuggestions: false\n            });\n        } else {\n            return this.setState({\n                query: value,\n                suggestions,\n                infoText: '',\n                showSuggestions: true\n            });\n        }\n    };\n\n    handleItemClicked = (suggestion) => {\n        this.setState({\n            query: suggestion,\n            showSuggestions: false\n        });\n\n        this.props.updateEvents(suggestion);\n    }\n\n    render() {\n        return (\n            <div className=\"CitySearch\">\n                <InfoAlert text={this.state.infoText} />\n                <label className=\"CitySearch-label\">Search for a City:</label>\n                <input\n                    type=\"text\"\n                    className=\"city\"\n                    value={this.state.query}\n                    onChange={this.handleInputChanged}\n                    onFocus={() => { this.setState({showSuggestions: true}) }}\n                />\n                <ul  className=\"suggestions\" style={this.state.showSuggestions ? {} : { display: 'none' }}>\n                    {this.state.suggestions.map((suggestion) => (\n                        <li key={suggestion} onClick={() => this.handleItemClicked(suggestion)}>{suggestion}</li>\n                    ))}\n                        <li key='all' onClick={() => this.handleItemClicked('all')}>\n                            <b>See all cities</b>\n                        </li>\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default CitySearch;","import React, { Component } from 'react';\nimport { ErrorAlert } from './Alert';\n\nclass NumberOfEvents extends Component {\n    state = {\n        numOfEvents: 32\n    }\n\n    inputHandler = (event) => {\n        const value = event.target.value;\n        this.props.updateEvents(null, value);\n        this.setState({ numOfEvents: value });\n\n        if (value < 1) {\n            this.setState({\n                infoText: 'Please input a number greater than 1.',\n            })\n        } else {\n            this.setState({\n                infoText: ''\n            })\n        }\n    };\n\n    render() {\n        return (\n            <div className=\"NumberOfEvents\">\n                <label className=\"eventNumLabel\">Number of Events:</label>\n                <input\n                    className=\"eventNumInput\"\n                    type=\"number\"\n                    value={this.state.numOfEvents}\n                    onChange={this.inputHandler}\n                ></input>\n                <div id='ErrorAlert'><ErrorAlert text={this.state.infoText}/></div>\n            </div>\n        )\n    }\n}\n\nexport default NumberOfEvents;","import React, { Component } from 'react';\nimport { extractLocations, getEvents } from './api';\nimport './App.css';\nimport './nprogress.css';\nimport EventList from './EventList';\nimport CitySearch from './CitySearch';\nimport NumberOfEvents from './NumberOfEvents';\n\n\nclass App extends Component {\n    state = {\n        events: [],\n        locations: [],\n        numOfEvents: 32,\n        currentLocation: 'all'\n    }\n\n    updateEvents = (location, eventCount) => {\n        if (location) {\n          getEvents().then((events) => {\n            const locationEvents = (location === 'all') ?\n                events :\n                events.filter((event) => event.location === location);\n                const filteredEvents = locationEvents.slice(0, this.state.numOfEvents);\n                return this.setState({\n                 events: filteredEvents,\n                 currentLocation: location,\n                 locations: events.locations\n                });\n            });\n        } else {\n            getEvents().then((events) => {\n                const locationEvents = (this.state.currentLocation === 'all') ? events : events.filter((event) => event.location === this.state.currentLocation);\n                const filteredEvents = locationEvents.slice(0, eventCount);\n                return this.setState({\n                    events: filteredEvents,\n                    numOfEvents: eventCount,\n                    locations: events.locations\n                });\n            });\n        }\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        getEvents().then((events) => {\n            if (this.mounted) {\n                this.setState({\n                    events: events.slice(0, this.state.numOfEvents),\n                    locations: extractLocations(events)\n                });\n            }\n        });\n    }\n\n    componentWillUnmount(){\n        this.mounted = false;\n    }\n\n\n    render() {\n         return (\n             <div className=\"App\">\n                 <CitySearch locations={this.state.locations} updateEvents={this.updateEvents}/>\n                 <NumberOfEvents numOfEvents={this.state.numOfEvents} updateEvents={this.updateEvents}/>\n                 <EventList events={this.state.events}/>\n            </div>\n        );\n     }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as atatus from 'atatus-spa';\n// import reportWebVitals from './reportWebVitals';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\nserviceWorker.register();\natatus.config('e95452b92d2a42ad86ea5c621b3820ae').install();\n"],"sourceRoot":""}